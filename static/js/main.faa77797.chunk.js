(this.webpackJsonpgiphy=this.webpackJsonpgiphy||[]).push([[0],{26:function(n,e,t){},27:function(n,e,t){},32:function(n,e,t){"use strict";t.r(e);var c,r,a,i,o,u,s,l=t(0),j=t.n(l),d=t(17),f=t.n(d),b=(t(26),t(27),t(10)),g=t(3),O=t(5),v=t(6),p=v.a.div(c||(c=Object(O.a)(["\n  padding: 0px 20px;\n\n  display: flex;\n  flex-wrap: wrap;\n"]))),h=v.a.button(r||(r=Object(O.a)(["\n  background-color: ",";\n  border: none;\n  padding: 10px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.fav?"red":"gray"}),(function(n){return n.fav?"pink":"lightgray"})),x=v.a.span(a||(a=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  background-color: lightgray;\n\n  padding: 20px;\n  margin: 20px;\n"]))),m=t(1),S=function(n){var e=n.gif,t=n.onClick,c=n.isFav,r=function(n){t(n,!!c)};return Object(m.jsxs)(x,{children:[Object(m.jsx)("img",{alt:"gif",src:null===e||void 0===e?void 0:e.src},e.id),Object(m.jsx)(h,{onClick:function(){return r(e)},fav:c,children:c?"\ud83d\udc4e":"\ud83d\udc4d"})]})},C=function(n){var e=n.gifs,t=n.onClick;return Object(m.jsx)(p,{children:null===e||void 0===e?void 0:e.map((function(n){var e=localStorage.getItem("favs"),c=e?JSON.parse(e):[],r=null===c||void 0===c?void 0:c.some((function(e){return e.id===n.id}));return Object(m.jsx)(S,{isFav:r,onClick:t,gif:n},n.id)}))})},y=function(n){var e=n.onChange,t=n.value;return Object(m.jsx)("input",{type:"text",value:t,onChange:function(n){e(n.target.value)}})},k=function(n){var e=n.value,t=n.onChange;return Object(m.jsxs)("select",{placeholder:"choose",value:e,onChange:function(n){t(n.target.value)},name:"categories",children:[Object(m.jsx)("option",{value:"",disabled:!0,children:"Select Category"}),Object(m.jsx)("option",{value:"dog",children:"Dog"}),Object(m.jsx)("option",{value:"cat",children:"Cat"}),Object(m.jsx)("option",{value:"mouse",children:"Mouse"})]})},L=t(14),w=t.n(L),E=t(15),I=t(21),F=function(){var n=Object(l.useState)(!1),e=Object(g.a)(n,2),t=e[0],c=e[1];return Object(l.useEffect)((function(){var n=function(){c(document.documentElement.scrollTop+window.innerHeight>=document.body.scrollHeight&&0!==document.documentElement.scrollTop)};return window.addEventListener("scroll",n),n(),function(){return window.removeEventListener("scroll",n)}}),[]),t},J="f4nA7EJOnybwdpv9cnTsCG10bpEKm54g",T=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;return"https://api.giphy.com/v1/gifs/search?api_key=".concat(t,"&q=").concat(n,"&limit=").concat(25,"&offset=").concat(e)},N=v.a.header(i||(i=Object(O.a)(["\n  padding: 40px 20px;\n"]))),P=v.a.main(o||(o=Object(O.a)(["\n  padding: 20px;\n"]))),A=function(){var n=Object(l.useState)(""),e=Object(g.a)(n,2),t=e[0],c=e[1],r=Object(l.useState)(""),a=Object(g.a)(r,2),i=a[0],o=a[1],u=Object(l.useState)(0),s=Object(g.a)(u,2),j=s[0],d=s[1],f=Object(l.useState)([]),O=Object(g.a)(f,2),v=O[0],p=O[1],h=Object(l.useState)((function(){var n=localStorage.getItem("favs");return n?JSON.parse(n):[]})),x=Object(g.a)(h,2),S=x[0],L=x[1],J=F(),A=function(n,e){var t=Object(l.useState)(n),c=Object(g.a)(t,2),r=c[0],a=c[1];return Object(l.useEffect)((function(){var t=setTimeout((function(){return a(n)}),e);return function(){return clearTimeout(t)}}),[n,e]),r}(i,500),H=function(){var n=Object(l.useState)({data:[],error:null,pageLoading:!1,scrollLoading:!1}),e=Object(g.a)(n,2),t=e[0],c=e[1];return{callAPI:Object(l.useCallback)(function(){var n=Object(I.a)(w.a.mark((function n(e){var t,r,a,i,o,u=arguments;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.length>1&&void 0!==u[1]&&u[1],c((function(n){return Object(E.a)(Object(E.a)({},n),t?{scrollLoading:!0}:{pageLoading:!0})})),n.prev=2,n.next=5,fetch(e);case 5:return r=n.sent,n.next=8,r.json();case 8:a=n.sent,i=a.data,o=i.map((function(n){return{src:n.images.original.url,id:n.id}})),c({data:o,pageLoading:!1,error:null,scrollLoading:!1}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),c({data:[],scrollLoading:!1,error:n.t0,pageLoading:!1});case 17:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}(),[]),res:t}}(),B=H.callAPI,D=H.res,M=D.data,q=D.pageLoading,G=D.scrollLoading,K=D.error,_=25*j;Object(l.useEffect)((function(){p((function(n){return[].concat(Object(b.a)(n),Object(b.a)(M))}))}),[M]),Object(l.useEffect)((function(){J&&(B(T(i||t,_),!0),d((function(n){return n+1})))}),[J,B]),Object(l.useEffect)((function(){A.length>3&&(B(T(A,_),!1),d((function(n){return n+1})))}),[A,B]);return q?Object(m.jsx)("h2",{children:"Loading"}):K?Object(m.jsx)("div",{children:"Error"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(N,{children:[Object(m.jsx)(y,{onChange:function(n){d(0),p([]),o(n),c("")},value:i}),Object(m.jsx)(k,{onChange:function(n){d(0),p([]),c(n),o(""),B(T(n,_),!1),d((function(n){return n+1}))},value:t})]}),Object(m.jsx)(P,{children:Object(m.jsx)(C,{onClick:function(n,e){var t=[];t=e?S.filter((function(e){return e.id!==n.id})):S.length?[].concat(Object(b.a)(S),[n]):[n],localStorage.setItem("favs",JSON.stringify(t)),L(t)},gifs:v})}),G&&Object(m.jsx)("h2",{children:"Scroll loading"})]})},H=t(12),B=t(2),D=function(){var n=Object(l.useState)((function(){var n=localStorage.getItem("favs");return n?JSON.parse(n):[]})),e=Object(g.a)(n,2),t=e[0],c=e[1];return Object(m.jsx)("div",{children:Object(m.jsx)(C,{gifs:t,onClick:function(n){var e=t.filter((function(e){return e.id!==n.id}));localStorage.setItem("favs",JSON.stringify(e)),c(e)}})})},M=v.a.div(u||(u=Object(O.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 10px 20px;\n"]))),q=v.a.button(s||(s=Object(O.a)(["\n  margin-left: 10px;\n"]))),G=function(){var n=Object(B.f)(),e=function(e){n(e)};return Object(m.jsxs)(M,{children:[Object(m.jsx)(q,{onClick:function(){return e("/")},children:"Home"}),Object(m.jsx)(q,{onClick:function(){return e("favourites")},children:"Favourites"})]})};var K=function(){return Object(m.jsxs)(H.a,{children:[Object(m.jsx)(G,{}),Object(m.jsxs)(B.c,{children:[Object(m.jsx)(B.a,{element:Object(m.jsx)(A,{}),path:"/"}),Object(m.jsx)(B.a,{element:Object(m.jsx)(D,{}),path:"/favourites"})]})]})},_=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),c(n),r(n),a(n),i(n)}))};f.a.render(Object(m.jsx)(j.a.StrictMode,{children:Object(m.jsx)(K,{})}),document.getElementById("root")),_()}},[[32,1,2]]]);
//# sourceMappingURL=main.faa77797.chunk.js.map